var urlToSet = prompt("What url to show when tabbed out");
if (urlToSet !== null) {
	var overlayTitle = prompt("What title is the website");
	var overlayFavicon = prompt("What icon to set on the tab");
	if (overlayFavicon == null) {
		overlayFavicon = "";
	};

	if (urlToSet.lastIndexOf(":") == -1) {
		urlToSet = "https://"+urlToSet;
	};
	var overlayFrame = document.createElement("iframe");
	overlayFrame.style = "width: 100vw; height: 100vh; display: block; position: fixed; top: 0px; left: 0px; z-index: 2147483647; border: none; outline: none; background-color: white;";
	overlayFrame.frameborder = "0";
	overlayFrame.src = urlToSet;
	var titleLoop;
	document.body.appendChild(overlayFrame);


	if (document.querySelector('link[rel~="icon"]') !== null) {
		var oldFavicon = document.querySelector('link[rel~="icon"]').href ?? "";
	};
	var oldTitle = document.title;

	if (overlayTitle == null || overlayTitle == "") {
		overlayTitle = overlayFrame.src;
	};

	document.documentElement.addEventListener("mouseenter", function(){
		overlayFrame.style.display = "none";
		clearInterval(titleLoop);
		document.title = oldTitle;
		if (document.querySelector('link[rel~="icon"]') !== null) {
			document.querySelector('link[rel~="icon"]').href = oldFavicon;
		};
	});
	document.documentElement.addEventListener("mouseleave", function(){
		overlayFrame.style.display = "block";
		if (document.querySelector('link[rel~="icon"]') !== null) {
			document.querySelector('link[rel~="icon"]').href = overlayFavicon;
		};
		titleLoop = setInterval(function(){
			document.title = overlayTitle;
		}, 10);
	});
};
