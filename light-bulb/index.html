

<!DOCTYPE html>
<html>
<head>
	<title>bulb</title>
	<style>
		body {
			padding: 0px;
			margin: 0px;
			background-color: darkslategray;
		}
		#bulb {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 300px;
			height: 300px;
			border-radius: 50%;
			background-color: darkgray;
		}
		#base {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, 130%);
			z-index: -1;
			width: 130px;
			height: 100px;
			border-radius: 10%;
			background-color: gray;
		}
		#switch {
			position: absolute;
			top: 80%;
			left: 70%;
			background-color: gray;
			outline: 5px outset blue;
			font-family: arial;
			font-size: 60px;
			transition-duration: 0.3s;
			pointer-events: none;
		}
		#overlay {
			background-color: black;
			opacity: 0.9;
			position: absolute;
			width: 100vw;
			height: 100vh;
			z-index: 5;
			pointer-events: none;
		}
		#switchButton {
			left: 0px;
			height: 70px;
			width: 50%;
			position: absolute;
			cursor: pointer;
			pointer-events: auto;
			transition-duration: 0.05s;
			transition-timing-function: ease-in;
		}
	</style>
	<script>
		var sounds = {
			on: new Audio("https://giantbooley.github.io/light-bulb/snd/on.mp3"),
			off: new Audio("https://giantbooley.github.io/light-bulb/snd/off.mp3"),
			loop: new Audio("https://giantbooley.github.io/light-bulb/snd/loop.mp3")
		};
		sounds.on.onended = function(){
			sounds.loop.play();
		};
		sounds.loop.loop = true;
		var on = false;
		function toggle() {
			if (on) {
				on = false;
				document.getElementById("bulb").style.backgroundColor = "darkgray";
				document.getElementById("bulb").style.boxShadow = "none";
				document.getElementById("overlay").style.backgroundColor = "black";
				document.getElementById("overlay").style.boxShadow = "none";
				document.getElementById("overlay").style.opacity = "0.9";
				document.getElementById("switchButton").style.transform = "translateX(0%)";
				sounds.on.pause();
				sounds.on.currentTime = 0;
				sounds.loop.pause();
				sounds.loop.currentTime = 0;
				sounds.off.play();
			} else {
				on = true;
				document.getElementById("bulb").style.backgroundColor = "yellow";
				document.getElementById("bulb").style.boxShadow = "0 0 300px 50px yellow";
				document.getElementById("overlay").style.backgroundColor = "transparent";
				document.getElementById("overlay").style.boxShadow = "inset 0 0 500px 100px black";
				document.getElementById("overlay").style.opacity = "1";
				document.getElementById("switchButton").style.transform = "translateX(100%)";
				sounds.on.play();
			};
		};
	</script>
</head>
<body>
	<div id="bulb"></div>
	<div id="base"></div>
	<div id="switch"><button id="switchButton" onclick="toggle();"></button>ON <small>OFF</small></div>
	<div id="overlay"></div>
</body>
</html>
