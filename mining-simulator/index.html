
<!DOCTYPE html>
<html>
	<head>
		<title>Mining simulator</title>
		<style>
			#opcButton {
				width: 100%;
				height: 50px;
				display: block;
				float: left;
			}
			button {
				border: 3px outset gold;
				background-color: orange;
			}
			button:hover {
				border: 3px inset orange;
				cursor: pointer;
				background-color: darkorange;
			}
			.container {
				background-color: lightgray;
				position: absolute;
				border: 10px double gray;
			}
			#machines {
				width: 25%;
				height: 79%;
				bottom: 0px;
				right: 0px;
			}
			body {
				text-align: center;
				background-image: url("img/background.png");
				overflow: hidden;
				user-drag: none;
				-webkit-user-drag: none;
				user-select: none;
				-moz-user-select: none;
				-webkit-user-select: none;
				-ms-user-select: none;
			}
			#miner {
				width: 300px;
				height: 300px;
				cursor: pointer;
				border: 3px solid gold;
				float: top;
				display: block;
				transition-duration: 0.1s
			}
			#miner:active {
				transform: scale(0.98,0.98)
			}
			#oreAnimation {
				display: none;
				position: absolute;
				left: 690px;
				top: 250px;
				color: cyan;
				user-select: none;
				font-family: arial;
				font-size: 20px;
			}
			#ore {
				color: black;
				font-size: 30px;
				font-family: monospace;
				font-weight: bold;
				background-color: yellow;
				border: 5px double gold;
				width: 100%;
			}
			.machine {
				width: 100%;
				height: 15%;
				background-color: darkgray;
				border: 2px solid darkslategray;
				text-align: left;
				line-height: 70%;
				transition-duration: 0.4s;
			}
			.machine:hover {
				transform: translate(-5px, 0px);
			}
			.machineImage {
				width: 25%;
				height: 100%;
				display: inline-block;
				float: left;
			}
			img {
				user-select: none;
				user-drag: none;
 				-webkit-user-drag: none;
				user-select: none;
				-moz-user-select: none;
				-webkit-user-select: none;
				-ms-user-select: none;
			}
			#oreUpgrader {
				width: 25%;
				height: 100px;
				line-height: 70%;
				bottom: 0px;
				left: 0px;
			}
			.oreIcon {
				width: 25%;
				height: 100%;
				float: left;
			}
			.oreButton {
				width: 75%;
				height: 50%;
				font-size: 20px;
			}
			.oreTitle {
				width: 75%;
				height: 50%;
			}
			#minerContainer {
				width: 306px;
				height: 405px;
				top: 25%;
				left: 40%;
				display: block;
			}
			#cashInButton {
				width: 100%;
				height: 50px;
			}
		</style>
		<script>
			var Game = { // set to tempGame to save
					// isItASave: true,
					machines: {
						drill: {name: "Drill", cost: 300, level: 0, ops: 0},
						digger: {name: "Digger", cost: 5000, level: 0, ops: 0},
						mineshaft: {name: "Mineshaft", cost: 50000, level: 0, ops: 0}
					},
					ore: 0,
					money: 0,
					ops: 0,
					opc: 1,
					upgradeOpcCost: 100
			};
			// var tempSave = localStorage.getItem('LOCALSAVE');
			// if (tempSave.isItASave == true) {
			// 	var Game = tempSave;
			// } else {
			// 	var Game = tempGame;
			// };
			// function save() {
			// 	localStorage.setItem('LOCALSAVE', Game);
			// };
			function gameAlert(whatToAlert) {
				
			};
			function toCost(number) {
				return "(cost: $"+number+")";
			}
			function mine() {
				Game.ore = Game.ore+Game.opc;
				document.getElementById("oreAnimation").innerHTML = "+"+Game.opc;
				document.getElementById("oreAnimation").style.display = "block";
				setTimeout(function() {
					document.getElementById("oreAnimation").style.display = "none";
				}, 100);
			};
			function upgradeOpc() {
				if (Game.ore >= Game.upgradeOpcCost) {
					Game.ore = Game.ore-Game.upgradeOpcCost;
					Game.opc = Game.opc*2;
					Game.upgradeOpcCost = Game.upgradeOpcCost*2.5;
					document.getElementById("opcButton").innerHTML = "double ore per click (cost: "+Math.ceil(Game.upgradeOpcCost)+")";
					document.getElementById("opcButton").title = "current ore per click: "+Game.opc;
					document.getElementById("ore").innerHTML = "ore: "+Math.ceil(Game.ore);
				};
			};
			function levelUpDrill() {
				if (Game.ore >= Game.machines.drill.cost) {
					Game.ore = Game.ore-Game.machines.drill.cost;
					Game.machines.drill.level++;
					Game.ops = Game.ops-Game.machines.drill.ops;
					Game.machines.drill.ops = Game.machines.drill.ops + 5;
					Game.ops = Game.ops+Game.machines.drill.ops;
					Game.machines.drill.cost = Game.machines.drill.cost*1.5;
					document.getElementById("drillLevel").innerHTML = "Drill level: "+Game.machines.drill.level;
					document.getElementById("drillops").innerHTML = "Drill ore per second: "+Game.machines.drill.ops;
					document.getElementById("drillButton").innerHTML = "Upgrade drill (cost: "+Math.ceil(Game.machines.drill.cost)+")";
				};
			};
			function levelUpDigger() {
				if (Game.ore >= Game.machines.digger.cost) {
					Game.ore = Game.ore-Game.machines.digger.cost;
					Game.machines.digger.level++;
					Game.ops = Game.ops-Game.machines.digger.ops;
					Game.machines.digger.ops = Game.machines.digger.ops + 50;
					Game.ops = Game.ops+Game.machines.digger.ops;
					Game.machines.digger.cost = Game.machines.digger.cost*1.5;
					document.getElementById("diggerLevel").innerHTML = "Digger level: "+Game.machines.digger.level;
					document.getElementById("diggerops").innerHTML = "Digger ore per second: "+Game.machines.digger.ops;
					document.getElementById("diggerButton").innerHTML = "Upgrade digger (cost: "+Math.ceil(Game.machines.digger.cost)+")";
				};
			};
			function levelUpMineshaft() {
				if (Game.ore >= Game.machines.mineshaft.cost) {
					Game.ore = Game.ore-Game.machines.mineshaft.cost;
					Game.machines.mineshaft.level++;
					Game.ops = Game.ops-Game.machines.mineshaft.ops;
					Game.machines.mineshaft.ops = Game.machines.mineshaft.ops + 300;
					Game.ops = Game.ops+Game.machines.mineshaft.ops;
					Game.machines.mineshaft.cost = Game.machines.mineshaft.cost*1.5;
					document.getElementById("mineshaftLevel").innerHTML = "Mineshaft level: "+Game.machines.mineshaft.level;
					document.getElementById("mineshaftops").innerHTML = "Mineshaft ore per second: "+Game.machines.mineshaft.ops;
					document.getElementById("mineshaftButton").innerHTML = "Upgrade mineshaft (cost: "+Math.ceil(Game.machines.mineshaft.cost)+")";
				};
			};
			var tick = setInterval(function(){
				Game.ore = Game.ore+(Game.ops/100);
				document.getElementById("ore").innerHTML = "ore: "+Math.ceil(Game.ore)+"<br>(per second: "+Math.ceil(Game.ops)+")";
				
				
				if (Game.upgradeopcCost > Game.ore) {
					document.getElementById("opcButton").disabled = true;
				} else {
					document.getElementById("opcButton").disabled = false;
				};
				if (Game.machines.drill.cost > Game.ore) {
					document.getElementById("drillButton").disabled = true;
				} else {
					document.getElementById("drillButton").disabled = false;
				};
				if (Game.machines.digger.cost > Game.ore) {
					document.getElementById("diggerButton").disabled = true;
				} else {
					document.getElementById("diggerButton").disabled = false;
				};
				if (Game.machines.mineshaft.cost > Game.ore) {
					document.getElementById("mineshaftButton").disabled = true;
				} else {
					document.getElementById("mineshaftButton").disabled = false;
				};
				
				
			}, 10);
		</script>
	</head>
	<body>
		<p id="ore">ore: 0<br>(per second: 0)</p><br>
		<div id="minerContainer" class="container">
			<button id="opcButton" title="current ore per click: 1" onclick="upgradeopc()">double ore per click (cost: 100)</button><br><br>
			<img title="click to mine ore" id="miner" alt="the miner" onclick="mine();" src="img/miner.png">
				<div id="oreAnimation">+1</div>
			</img>
			<button id="cashInButton" onclick="cashInore">Cash in 0 ore for $0</button>
		</div>
		<div id="machines" class="container">
			<div class="machine">
				<img src="img/drill.png" class="machineImage" alt="drill image">
				<button class="upgradeMachine" id="drillButton" onclick="levelUpDrill();">Upgrade drill (cost: 300)</button><br>
				<div id="drillLevel">Drill level: 0</div><br>
				<div id="drillops">Drill ore per second: 0</div>
			</div>
			<div class="machine">
				<img src="img/digger.png" class="machineImage" alt="digger image">
				<button class="upgradeMachine" id="diggerButton" onclick="levelUpDigger();">Upgrade digger (cost: 5000)</button><br>
				<div id="diggerLevel">Digger level: 0</div><br>
				<div id="diggerops">Digger ore per second: 0</div>
			</div>
			<div class="machine">
				<img src="img/mineshaft.png" class="machineImage" alt="mineshaft image">
				<button class="upgradeMachine" id="mineshaftButton" onclick="levelUpMineshaft();">Upgrade mineshaft (cost: 50000)</button><br>
				<div id="mineshaftLevel">Mineshaft level: 0</div><br>
				<div id="mineshaftops">Mineshaft ore per second: 0</div>
			</div>
		</div>
			<div id="oreUpgrader" class="container">
				<img src="img/coal.png" alt="ore image" class="oreIcon">
				<img src="img/coal_ore_title.png" alt="ore title" class="oreTitle">
				<button class="oreButton">Upgrade ore</button>
			</div>
	</body>
</html>
